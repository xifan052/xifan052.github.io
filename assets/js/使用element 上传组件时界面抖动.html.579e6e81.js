"use strict";(self.webpackChunkxifan_blog=self.webpackChunkxifan_blog||[]).push([[6973],{5982:(n,a,s)=>{s.r(a),s.d(a,{comp:()=>c,data:()=>r});var e=s(641);const t=s.p+"assets/img/71120a11b13349229941721b7b7fe3d5~tplv-k3u1fbpfcp-zoom-1.f2f518d8.png",l=(0,e.Fv)('<h2 id="场景描述" tabindex="-1"><a class="header-anchor" href="#场景描述"><span>场景描述</span></a></h2><p>在使用 element ui 的上传组件时，会出现一个上传进度的 loading 元素，导致形成一个图片被挤到后面，上传完成之后又回来的效果</p><p><img src="'+t+'" alt=" "></p><p>经过尝试，主要由于在上传完成之后 push 操作了 upload 组件的 fileList 数组；</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fileList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>key<span class="token punctuation">,</span>\n  <span class="token literal-property property">url</span><span class="token operator">:</span> imgUrl <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>key<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解决实现" tabindex="-1"><a class="header-anchor" href="#解决实现"><span>解决实现</span></a></h2><h3 id="_1-避免-push-而是直接赋值" tabindex="-1"><a class="header-anchor" href="#_1-避免-push-而是直接赋值"><span>1.避免 push,而是直接赋值</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// 看项目场景影响</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>fileList <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>key<span class="token punctuation">,</span>\n    <span class="token literal-property property">url</span><span class="token operator">:</span> imgUrl <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>key<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-隐藏-loading-元素" tabindex="-1"><a class="header-anchor" href="#_2-隐藏-loading-元素"><span>2. 隐藏 loading 元素</span></a></h3><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code><span class="token comment">/* 推荐，实现简单 */</span>\n<span class="token selector">.el-upload-list__item.is-ready,\n.el-upload-list__item.is-uploading</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2>',11),p={href:"https://blog.csdn.net/oschina_41767564/article/details/107615022",target:"_blank",rel:"noopener noreferrer"},i={href:"https://blog.csdn.net/mister_snail/article/details/108374211",target:"_blank",rel:"noopener noreferrer"},o={},c=(0,s(6262).A)(o,[["render",function(n,a){const s=(0,e.g2)("ExternalLinkIcon");return(0,e.uX)(),(0,e.CE)("div",null,[l,(0,e.Lk)("ul",null,[(0,e.Lk)("li",null,[(0,e.Lk)("p",null,[(0,e.Lk)("a",p,[(0,e.eW)("涳涳嘚慌"),(0,e.bF)(s)])])]),(0,e.Lk)("li",null,[(0,e.Lk)("p",null,[(0,e.Lk)("a",i,[(0,e.eW)("mister_snail"),(0,e.bF)(s)])])])])])}]]),r=JSON.parse('{"path":"/blogs/article/2.shiyongelementshangchuanzujianshijiemiandoudong/shiyongelement shangchuanzujianshijiemiandoudong.html","title":"使用element ui上传组件时界面抖动","lang":"en-US","frontmatter":{"title":"使用element ui上传组件时界面抖动","date":"2022-10-20T00:00:00.000Z","categories":["article"],"tags":["Element UI"]},"headers":[{"level":2,"title":"场景描述","slug":"场景描述","link":"#场景描述","children":[]},{"level":2,"title":"解决实现","slug":"解决实现","link":"#解决实现","children":[{"level":3,"title":"1.避免 push,而是直接赋值","slug":"_1-避免-push-而是直接赋值","link":"#_1-避免-push-而是直接赋值","children":[]},{"level":3,"title":"2. 隐藏 loading 元素","slug":"_2-隐藏-loading-元素","link":"#_2-隐藏-loading-元素","children":[]}]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}],"git":{"createdTime":1737108179000,"updatedTime":1737108179000,"contributors":[{"name":"稀饭","email":"lixifan@ane56.com","commits":1}]},"filePathRelative":"blogs/article/2.使用element上传组件时界面抖动/使用element 上传组件时界面抖动.md"}')}}]);