"use strict";(self.webpackChunkxifan_blog=self.webpackChunkxifan_blog||[]).push([[917],{2914:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>k,data:()=>v});var e=a(641);const t=(0,e.Lk)("h2",{id:"一、创建第一个-react-项目",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#一、创建第一个-react-项目"},[(0,e.Lk)("span",null,"一、创建第一个 React 项目")])],-1),p=(0,e.Lk)("h3",{id:"_1-安装-node",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#_1-安装-node"},[(0,e.Lk)("span",null,"1.安装 node")])],-1),o={href:"https://nodejs.org/zh-cn/download/",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Fv)('<h3 id="_2-安装脚手架" tabindex="-1"><a class="header-anchor" href="#_2-安装脚手架"><span>2.安装脚手架</span></a></h3><p>全局安装 react 脚手架<code>npm install -g create-react-app</code></p><h3 id="_3-创建项目" tabindex="-1"><a class="header-anchor" href="#_3-创建项目"><span>3.创建项目</span></a></h3><p>使用脚手架命令<code>create-react-app 项目名称</code>创建项目； 进入项目目录之后终端输入<code>npm run start</code>，react 项目就跑起来了</p><h3 id="_4-配置-redux-devtools" tabindex="-1"><a class="header-anchor" href="#_4-配置-redux-devtools"><span>4.配置 Redux DevTools</span></a></h3><p>安装 DevTools 插件</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 两种方式：</span>\n<span class="token comment"># 1. 下载插件安装 https://chrome.zzzmh.cn/info?token=lmhkpmbekcpmknklioeibfkpmmfibljd</span>\n<span class="token comment"># or</span>\n<span class="token comment"># 2. github(https://github.com/zalmoxisus/redux-devtools-extension#1-for-chrome)下载releases包，根据提示解压安装到浏览器</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 store 文件中增加 DevTools 配置</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span> <span class="token comment">//  引入createStore方法</span>\n<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">&quot;./reducer&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>\n  reducer<span class="token punctuation">,</span>\n  window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 加这句</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建数据存储仓库</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span> <span class="token comment">//暴露出去</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-修改-webpack-配置" tabindex="-1"><a class="header-anchor" href="#_5-修改-webpack-配置"><span>5. 修改 webpack 配置</span></a></h3>',10),c=(0,e.Lk)("code",null,"webpack",-1),i=(0,e.Lk)("code",null,"npm i react-app-rewired customize-cra --save-dev",-1),r={href:"https://www.npmjs.com/package/react-app-rewired",target:"_blank",rel:"noopener noreferrer"},u=(0,e.Fv)('<p>在根目录创建 config-overrides.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> addWebpackAlias<span class="token punctuation">,</span> addLessLoader <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;customize-cra&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>\n  <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    config<span class="token punctuation">.</span>devtool <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//去掉map文件</span>\n    <span class="token keyword">return</span> config<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token function">addWebpackAlias</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">localIdentName</span><span class="token operator">:</span> <span class="token string">&quot;[local]--[hash:base64:8]&quot;</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">javascriptEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">modifyVars</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 配置less,</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改项目 npm 命令</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n  <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired start&quot;</span><span class="token punctuation">,</span>\n  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired build&quot;</span><span class="token punctuation">,</span>\n  <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired test&quot;</span><span class="token punctuation">,</span>\n  <span class="token string-property property">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、问题处理" tabindex="-1"><a class="header-anchor" href="#二、问题处理"><span>二、问题处理</span></a></h2><ul><li><p>1.打包之后静态资源 404</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// package.json设置homepage</span>\n  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1.0&quot;</span><span class="token punctuation">,</span>\n  <span class="token string-property property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n  <span class="token string-property property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>2.访问二级路由外部样式丢失</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>  <span class="token comment">// 1.将./css改为/css</span>\n  <span class="token comment">// 2.将./css修改为%PUBLIC_URL%/css</span>\n  <span class="token comment">// 3.使用HashRouter</span>\n  <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;/css/style.css&quot;</span><span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>3.样式的模块化(解决不同模块类名相同的样式冲突)</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// 1. 使用less嵌套</span>\n\n<span class="token comment">// 2. 对应的css文件名称添加.module，如index.css修改为index.module.css</span>\n\n<span class="token comment">// index.module.css文件</span>\n<span class="token punctuation">.</span>title<span class="token punctuation">{</span>\n  <span class="token literal-property property">color</span><span class="token operator">:</span>red\n<span class="token punctuation">}</span>\n\n<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>\n<span class="token keyword">import</span> side <span class="token keyword">from</span> <span class="token string">&#39;./index.module.css&#39;</span> <span class="token comment">// 修改css引入方式</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Side</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>side<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>4.安装 less 之后启动报错 TypeError: this.getOptions is not a function</li></ul><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 原因：less-loader安装的版本过高</span>\n<span class="token comment"># 解决方案：重装低版本less</span>\n<span class="token number">1</span>. <span class="token function">npm</span> uninstall less-loader\n<span class="token number">2</span>. <span class="token function">npm</span> <span class="token function">install</span> less-loader@5.0.0 --save-dev\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',9),d={},k=(0,a(6262).A)(d,[["render",function(n,s){const a=(0,e.g2)("ExternalLinkIcon");return(0,e.uX)(),(0,e.CE)("div",null,[t,p,(0,e.Lk)("p",null,[(0,e.Lk)("a",o,[(0,e.eW)("node 官网"),(0,e.bF)(a)]),(0,e.eW)(" 下载 node 包")]),l,(0,e.Lk)("p",null,[(0,e.eW)("react 脚手架创建的项目默认是不支持修改"),c,(0,e.eW)("配置的, 终端输入命令"),i,(0,e.eW)("安装"),(0,e.Lk)("a",r,[(0,e.eW)("react-app-rewired"),(0,e.bF)(a)])]),u])}]]),v=JSON.parse('{"path":"/blogs/note/react/1.reacthuanjingdajian.html","title":"1.react环境搭建","lang":"en-US","frontmatter":{"title":"1.react环境搭建","date":"2019-03-11T00:00:00.000Z","categories":["note"],"tags":["React"]},"headers":[{"level":2,"title":"一、创建第一个 React 项目","slug":"一、创建第一个-react-项目","link":"#一、创建第一个-react-项目","children":[{"level":3,"title":"1.安装 node","slug":"_1-安装-node","link":"#_1-安装-node","children":[]},{"level":3,"title":"2.安装脚手架","slug":"_2-安装脚手架","link":"#_2-安装脚手架","children":[]},{"level":3,"title":"3.创建项目","slug":"_3-创建项目","link":"#_3-创建项目","children":[]},{"level":3,"title":"4.配置 Redux DevTools","slug":"_4-配置-redux-devtools","link":"#_4-配置-redux-devtools","children":[]},{"level":3,"title":"5. 修改 webpack 配置","slug":"_5-修改-webpack-配置","link":"#_5-修改-webpack-配置","children":[]}]},{"level":2,"title":"二、问题处理","slug":"二、问题处理","link":"#二、问题处理","children":[]}],"git":{"createdTime":1737108179000,"updatedTime":1737108179000,"contributors":[{"name":"稀饭","email":"lixifan@ane56.com","commits":1}]},"filePathRelative":"blogs/note/react/1.react环境搭建.md"}')}}]);